<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>linux用户管理 | 杂烩饭</title><meta name="author" content="张理坤"><meta name="copyright" content="张理坤"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="增加用户useradd [选项] 用户名    选项 说明    -g 指定用户的用户主组,（查看用户属于哪个组直接从 passwd 文件查看）   -G 指定用户的附加组     （查看用户属于哪个附加组直接从 group 文件查看）   -u 指定用户 ID，即指定用户标识符 ((ID 是唯一的),不想使用系统默认指定的 ID 则可以使用 -u 指定 ID,默认 Centos6.x500 之后">
<meta property="og:type" content="article">
<meta property="og:title" content="linux用户管理">
<meta property="og:url" content="https://zahui.fan/posts/sd9in4/">
<meta property="og:site_name" content="杂烩饭">
<meta property="og:description" content="增加用户useradd [选项] 用户名    选项 说明    -g 指定用户的用户主组,（查看用户属于哪个组直接从 passwd 文件查看）   -G 指定用户的附加组     （查看用户属于哪个附加组直接从 group 文件查看）   -u 指定用户 ID，即指定用户标识符 ((ID 是唯一的),不想使用系统默认指定的 ID 则可以使用 -u 指定 ID,默认 Centos6.x500 之后">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://static.zahui.fan/public/bash.svg">
<meta property="article:published_time" content="2021-05-10T09:06:40.000Z">
<meta property="article:modified_time" content="2024-10-31T03:20:09.000Z">
<meta property="article:author" content="张理坤">
<meta property="article:tag" content="命令行工具">
<meta property="article:tag" content="Linux">
<meta property="article:tag" content="Shell">
<meta property="article:tag" content="常用操作">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://static.zahui.fan/public/bash.svg"><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "linux用户管理",
  "url": "https://zahui.fan/posts/sd9in4/",
  "image": "https://static.zahui.fan/public/bash.svg",
  "datePublished": "2021-05-10T09:06:40.000Z",
  "dateModified": "2024-10-31T03:20:09.000Z",
  "author": [
    {
      "@type": "Person",
      "name": "张理坤",
      "url": "https://zahui.fan/"
    }
  ]
}</script><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://zahui.fan/posts/sd9in4/"><link rel="preconnect"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="manifest" href="/site.webmanifest"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/pluginsSrc/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="/pluginsSrc/@fancyapps/ui/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?50b516d50102c8c9ac5f80529b81ca17";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
btf.addGlobalFn('pjaxComplete', () => {
  _hmt.push(['_trackPageview',window.location.pathname])
}, 'baidu_analytics')
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-YN0WWZGVYN"></script><script>window.dataLayer = window.dataLayer || []
function gtag(){dataLayer.push(arguments)}
gtag('js', new Date())
gtag('config', 'G-YN0WWZGVYN')
btf.addGlobalFn('pjaxComplete', () => {
  gtag('config', 'G-YN0WWZGVYN', {'page_path': window.location.pathname})
}, 'google_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: '/pluginsSrc/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'linux用户管理',
  isHighlightShrink: false,
  isToc: true,
  pageType: 'post'
}</script><link rel="stylesheet" href="https://static.zahui.fan/libs/lxgw-wenkai-screen-webfont/1.7.0/style.min.css" /><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="杂烩饭" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://static.zahui.fan/public/dog.svg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">350</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">217</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 工具</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://bbk-games.zahui.fan/"><i class="fa-fw fas fa-gamepad"></i><span> 小游戏</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://aria2.babudiu.com/"><i class="fa-fw fas fa-download"></i><span> Aria2</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://file.babudiu.com/"><i class="fa-fw fa-solid fa-file"></i><span> 网盘</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa-solid fa-paperclip"></i><span> 林克</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa-brands fa-apple fa-bounce"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg fixed" id="page-header" style="background-image: url(https://static.zahui.fan/public/bash.svg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="https://static.zahui.fan/public/boob.png" alt="Logo"><span class="site-name">杂烩饭</span></a><a class="nav-page-title" href="/"><span class="site-name">linux用户管理</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 工具</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://bbk-games.zahui.fan/"><i class="fa-fw fas fa-gamepad"></i><span> 小游戏</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://aria2.babudiu.com/"><i class="fa-fw fas fa-download"></i><span> Aria2</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://file.babudiu.com/"><i class="fa-fw fa-solid fa-file"></i><span> 网盘</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa-solid fa-paperclip"></i><span> 林克</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa-brands fa-apple fa-bounce"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="post-info"><h1 class="post-title">linux用户管理</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-05-10T09:06:40.000Z" title="发表于 2021-05-10 17:06:40">2021-05-10</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-10-31T03:20:09.000Z" title="更新于 2024-10-31 11:20:09">2024-10-31</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%9F%BA%E7%A1%80%E8%BF%90%E7%BB%B4/">基础运维</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title=""><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">浏览量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="container post-content" id="article-container"><div id="post-outdate-notice" data="{&quot;limitDay&quot;:365,&quot;messagePrev&quot;:&quot;此文章距离发布已经&quot;,&quot;messageNext&quot;:&quot;天了，内容可能已经过时，请自行判断是否可用或联系博主更新。&quot;,&quot;postUpdate&quot;:&quot;2024-10-31 11:20:09&quot;}" hidden></div><h2 id="增加用户"><a href="#增加用户" class="headerlink" title="增加用户"></a>增加用户</h2><p>useradd [选项] 用户名</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-g</td>
<td>指定用户的用户主组,（查看用户属于哪个组直接从 passwd 文件查看）</td>
</tr>
<tr>
<td>-G</td>
<td>指定用户的附加组     （查看用户属于哪个附加组直接从 group 文件查看）</td>
</tr>
<tr>
<td>-u</td>
<td>指定用户 ID，即指定用户标识符 ((ID 是唯一的),不想使用系统默认指定的 ID 则可以使用 -u 指定 ID,默认 Centos6.x500 之后递增，Centos7.x 从 1000 之后递增</td>
</tr>
<tr>
<td>-d</td>
<td>自定义用户的家目录,不要系统默认创建的家目录</td>
</tr>
<tr>
<td>-m</td>
<td>创建用户的家目录</td>
</tr>
<tr>
<td>-M</td>
<td>不创建家目录</td>
</tr>
<tr>
<td>-c</td>
<td>备注信息,可写可不写</td>
</tr>
<tr>
<td>-s</td>
<td>指定用户登录的 shell,不写默认是&#x2F;bin&#x2F;sh,通常会给程序创建一个不允许登陆的账号 -s &#x2F;sbin&#x2F;nologin 或 -s &#x2F;bin&#x2F;false</td>
</tr>
<tr>
<td>-r</td>
<td>创建一个系统账号,centos7 系统账号的 UID 是从 1-999 之间的,centos6 是从 1-499 之间的</td>
</tr>
</tbody></table>
<p>常用格式：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">useradd -m -s /bin/bash iuxt            <span class="comment"># 常用操作，创建用户和家目录。</span></span><br><span class="line">useradd iuxt							<span class="comment">#创建iuxt用户和自动默认创建同名的iuxt组，默认分配用户ID</span></span><br><span class="line">useradd -M -s /sbin/nologin nginx		<span class="comment">#创建一个没有家目录及不能登录的nginx用户</span></span><br><span class="line">useradd -g 1001 -G 1002 -u 8989 -d /home/iuxt -s /bin/bash iuxt</span><br></pre></td></tr></table></figure>

<h2 id="修改用户信息"><a href="#修改用户信息" class="headerlink" title="修改用户信息"></a>修改用户信息</h2><p>usermod 修改用户信息<br>usermod 命令用于修改用户信息，其语法格式如下：</p>
<p>usermod [选项] 用户名</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-g</td>
<td>修改用户的用户组,其后可接组名或 gid（查看用户属于哪个组直接从 passwd 文件查看）（一个用户只能有一个主组）</td>
</tr>
<tr>
<td>-G</td>
<td>修改用户的附加组,其后可接组名或 gid（查看用户属于哪个附加组直接从 group 文件查看）（一个用户可以有多个附属组,换句话说,一个组可以有多个用户,但这个组对用户来说必须是附加组）</td>
</tr>
<tr>
<td>-u</td>
<td>修改用户 ID，即修改用户标识符</td>
</tr>
<tr>
<td>-l</td>
<td>修改用户名（usermod -l new_name old_name）</td>
</tr>
<tr>
<td>-s</td>
<td>修改用户登录的 shell</td>
</tr>
<tr>
<td>-L</td>
<td>锁住用户</td>
</tr>
<tr>
<td>-U</td>
<td>解锁用户</td>
</tr>
<tr>
<td>-d</td>
<td>修改用户的家目录</td>
</tr>
<tr>
<td>-m</td>
<td>必须与 -d 一起使用，表示移动家目录里面文件</td>
</tr>
</tbody></table>
<p>常用操作</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">usermod -l iuxt old_name     		<span class="comment"># 将用户名old_name改为iuxt,仅仅是修改用户名,家目录名old_name或默认组old_name并没有被修改</span></span><br><span class="line">usermod -L iuxt						<span class="comment"># 锁住用户iuxt</span></span><br><span class="line">usermod -md /home/iuxt1 iuxt		<span class="comment"># 修改用户iuxt的家目录,iuxt1目录必须实现创建,而且创建后注意属主属组权限</span></span><br><span class="line">usermod -s /sbin/nologin iuxt		<span class="comment"># 修改用户的登录shell</span></span><br><span class="line">usermod -g 6688 iuxt				<span class="comment"># 修改用户的主组</span></span><br><span class="line">usermod -G zhangsan,zabbix lisi		<span class="comment"># -G指定修改lisi附属组为zhangsan，zabbix</span></span><br><span class="line"><span class="built_in">id</span> lisi								<span class="comment"># 查看lisi的信息</span></span><br></pre></td></tr></table></figure>

<p>说明：<br>一个用户只能有一个主组，但可以有多个附加组。使用 id user_name 来查看。<br>修改用户家目录必须使用参数 -md 配合使用。</p>
<h2 id="删除用户"><a href="#删除用户" class="headerlink" title="删除用户"></a>删除用户</h2><p>userdel 删除用户<br>userdel 命令用于删除用户，其语法格式如下：</p>
<p>userdel [选项] 用户名</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-f</td>
<td>强制删除,即使用户正在登录</td>
</tr>
<tr>
<td>-r</td>
<td>删除用户,其家目录和 mail spool 也一并删除</td>
</tr>
</tbody></table>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://zahui.fan">张理坤</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://zahui.fan/posts/sd9in4/">https://zahui.fan/posts/sd9in4/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来源 <a href="https://zahui.fan" target="_blank">杂烩饭</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%B7%A5%E5%85%B7/">命令行工具</a><a class="post-meta__tags" href="/tags/Linux/">Linux</a><a class="post-meta__tags" href="/tags/Shell/">Shell</a><a class="post-meta__tags" href="/tags/%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/">常用操作</a></div><div class="post-share"><div class="social-share" data-image="https://static.zahui.fan/public/bash.svg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="/pluginsSrc/butterfly-extsrc/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="/pluginsSrc/butterfly-extsrc/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><a class="pagination-related" href="/posts/b1ffa547/" title="adb常用操作记录"><img class="cover" src="https://static.zahui.fan/images/202211041307268.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="info"><div class="info-1"><div class="info-item-1">上一篇</div><div class="info-item-2">adb常用操作记录</div></div><div class="info-2"><div class="info-item-1">打开应用12# am start 应用包名/activity名adb shell am start com.ss.android.lark/com.ss.android.lark.main.app.MainActivity  获取 Activity 名手机打开 App，电脑使用命令： 1adb shell dumpsys activity activities  搜索一下 mActivityComponent :  获取系统信息获取是否解锁状态1adb shell dumpsys window policy  不同版本可能参数不一样，一个通用的办法是在熄屏先执行此命令，记录下来，然后亮屏再执行一次，对比一下差异就能知道是哪个参数了。小米 11 参数为 mIsScreenOn 卸载无法卸载的系统应用12345adb shell pm uninstall --user 0 com.miui.systemAdSolution等同于先进入adb shell ，然后再执行命令adb shell&gt; pm uninstall --user 0...</div></div></div></a><a class="pagination-related" href="/posts/f4ea28c3/" title="LVM逻辑卷管理"><img class="cover" src="https://static.zahui.fan/public/skeleton1.svg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="info text-right"><div class="info-1"><div class="info-item-1">下一篇</div><div class="info-item-2">LVM逻辑卷管理</div></div><div class="info-2"><div class="info-item-1">LVM 是 Logical Volume Manager 的缩写，中文逻辑卷管理，LVM 是建立在磁盘分区和文件系统之间的一个逻辑层，LVM 会更加灵活，可以动态扩容缩容分区大小。调整分区大小有风险，请做好充分测试再决定是否执行。如果没有启用 lvm，请查看 linux磁盘扩容 - 非LVM那么怎么知道机器有没有启用 LVM 呢，可以执行 sudo lvdisplay 查看有没有已存在的 LV，对比 df -hT 里面的 Filesystem，也可以用 lsblk 查看有没有 lvm。 记住一点， 如果你的磁盘没有分区并已经在使用中， 那么千万不要使用 fdisk 来分区，会损坏数据！！！   LVM 的一些概念PV： 物理卷，比如一个分区，一个磁盘VG： 卷组，将多个 PV 整合在一起，形成一个大的池子LV： 逻辑卷，从 VG 划分出来一个个空间，可以当作分区来看待，可以格式化，可以挂载 常用命令    查看 查看详细信息 扩展 创建    卷组 VG vgs vgdisplay vgextend vgcreate   逻辑卷...</div></div></div></a></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><a class="pagination-related" href="/posts/lra06cl1/" title="Linux大文件分割与合并"><img class="cover" src="https://static.zahui.fan/public/bash.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="fas fa-history fa-fw"></i> 2024-10-31</div><div class="info-item-2">Linux大文件分割与合并</div></div><div class="info-2"><div class="info-item-1">服务器上有个文件需要下载到本地, 但是文件较大, 我们都是通过 jumpserver 连接的, 通过 jumpserver 下载难免会遇到网络波动等导致下载失败, 我们可以通过分割大文件成一个个小文件, 然后下载后再在本地合并. 用到的命令是 split split 分割大文件1split -b 1024M -d -a 3 2023.tar.gz tmp.  参数说明:    参数 说明    -b 指定每个文件的大小, 支持 K M G   -d 指定后缀编码为数字，默认编码为字母   -a 指定后缀长度,3 表示 3 位数, 比如上面的命令, 生成的文件就是 tmp.000 …   .&#x2F;tmp. 这个是生成的文件名前面的部分   如果报错 split: output file suffixes exhausted 说明后缀不够用了, 比如参数 -a 1  支持的后缀为 0 - 9 , 如果文件太大, 超过了 9, 就会报这个错. 使用 cat 合并大文件1cat tmp.* &gt; 2023.tar.gz  合并完成再验证一下 MD5 值,...</div></div></div></a><a class="pagination-related" href="/posts/ls0614ms/" title="Linux常用命令之lsof"><img class="cover" src="https://static.zahui.fan/public/bash.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="fas fa-history fa-fw"></i> 2024-10-31</div><div class="info-item-2">Linux常用命令之lsof</div></div><div class="info-2"><div class="info-item-1">lsof（list open files）是一个列出当前系统打开文件的工具。在 linux 环境下，任何事物都以文件的形式存在，通过文件不仅仅可以访问常规数据，还可以访问网络连接和硬件。 常用参数   参数 说明    -p 根据 pid 查找   直接加文件路径 查看这个文件被哪个进程打开了   -c 显示 COMMAND 列中包含指定字符的进程所有打开的文件   lsof -u username 显示所属 user 进程打开的文件   -i 用以显示符合条件的进程情况   lsof -g gid 显示归属 gid 的进程情况   lsof +d &#x2F;DIR&#x2F; 显示目录下被进程打开的文件   lsof +D &#x2F;DIR&#x2F; 同上，但是会搜索目录下的所有目录，时间相对较长   lsof -d FD 显示指定文件描述符的进程   lsof -n 不将 IP 转换为 hostname，缺省是不加上 -n 参数   lsof -i 用以显示符合条件的进程情况   一些例子查看 java 程序打开的文件1lsof -c java  当然你也可以到...</div></div></div></a><a class="pagination-related" href="/posts/lrcy3q4o/" title="shell脚本获取自身的信息"><img class="cover" src="https://static.zahui.fan/public/bash.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="fas fa-history fa-fw"></i> 2024-10-31</div><div class="info-item-2">shell脚本获取自身的信息</div></div><div class="info-2"><div class="info-item-1">写 shell 脚本， 有时候需要获取一些信息， 比如这个脚本的名字，脚本所在的目录，脚本的绝对路径， 这个脚本的 pid， 参数等。    变量 说明    $0 脚本自身的路径（执行的时候调用路径）   $1 第一个参数   $? 上一个脚本的返回值，0为正常   $* 所有的参数   $# 参数的个数   $$ 当前脚本的pid   $_ 上一条命令的参数   获取脚本的文件名$0 是脚本的路径，这个路径有可能是相对路径，那么可以使用 dirname 和 basename 配合来获取脚本绝对路径 12345# 脚本所在的目录的绝对路径echo &quot;$(cd $(dirname $0); pwd)&quot;# 脚本的文件名echo $(basename $0)  获取脚本的绝对路径12345# 获取脚本的绝对路径DIR=$(cd $(dirname $0); pwd)FILE=$(basename $0)echo &quot;$&#123;DIR&#125;/$&#123;FILE&#125;&quot;  进入临时目录12# $_...</div></div></div></a><a class="pagination-related" href="/posts/2c88f7f6/" title="Linux使用nologin用户执行命令"><img class="cover" src="https://static.zahui.fan/public/bash.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="fas fa-history fa-fw"></i> 2024-10-31</div><div class="info-item-2">Linux使用nologin用户执行命令</div></div><div class="info-2"><div class="info-item-1"> 我们知道可以通过编辑 /etc/passwd 给某些用户设置 shell 为 nologin 或 false 可以阻止这些用户登录但某些时候需要特定的用户来执行命令，可以使用 sudo 或 su 来临时切换用户执行  使用 susu -s 是指定 shell，这里 www 用户默认 shell 是 nologin 这里指定使用 /bin/bash, -c 后面接需要运行的命令 1su www -s /bin/bash -c &quot;mkdir /tmp/111&quot;  使用 sudo使用 www 用户来执行 mkdir /tmp/111 1sudo -u www mkdir /tmp/111 </div></div></div></a><a class="pagination-related" href="/posts/314a3942/" title="Bash中双横线的作用"><img class="cover" src="https://static.zahui.fan/public/bash.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="fas fa-history fa-fw"></i> 2024-10-31</div><div class="info-item-2">Bash中双横线的作用</div></div><div class="info-2"><div class="info-item-1">看个例子：  假设有个文件叫 -f， 我想把这个文件删除假设我要用 rm -f -f 来删除，会发现无法删除，bash 把第二个 -f 当作参数了  这个时候可以使用 --(当然有其他方法，这里先不讨论) 1rm -f -- -f  这里的 -- 表示这个程序的参数已经结束了，后面所有的内容都是参数的值了，比如第二个 -f 就不会认为它是 rm 的参数了 现在使用 kubectl exec 也会推荐你用 – 后面再接上命令 </div></div></div></a><a class="pagination-related" href="/posts/90ca4905/" title="常用shell组合命令"><img class="cover" src="https://static.zahui.fan/public/bash.svg" alt="cover"><div class="info text-center"><div class="info-1"><div class="info-item-1"><i class="fas fa-history fa-fw"></i> 2025-01-07</div><div class="info-item-2">常用shell组合命令</div></div><div class="info-2"><div class="info-item-1">循环遍历{1..3} 这种格式12345678# i 取值为1 2 3for i in &#123;1..3&#125;; do echo 192.168.1.1$i ; done# i 取值为 1 3 5 7 9for i in &#123;1..9..2&#125; ; do echo $i ; done# 批量删除文件，相当于排列组合rm -rf redis-&#123;1..6&#125;/&#123;appendonly.aof,nodes.conf,nohup.out&#125;  seq12# i 的取值是 1 3 5 7 9, 1开始9结束，2是步进for i in $(seq 1 2 9) ; do echo $i ; done  for 循环1234for ((i=1;i&lt;=10;i++))do    echo $idone  while 循环12345678# 死循环i=0while truedo  echo &quot;$i: $(date)&quot;  i=$((i+1))  sleep...</div></div></div></a></div></div><hr class="custom-hr"/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="giscus-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://static.zahui.fan/public/dog.svg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">张理坤</div><div class="author-info-description">张理坤的博客</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">350</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">217</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/iuxt"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/iuxt" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:x@zahui.fan" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://space.bilibili.com/165330963" rel="external nofollow noreferrer" target="_blank" title="Bilibili"><i class="fa-brands fa-bilibili"></i></a><a class="social-icon" href="https://stackoverflow.com/users/15620461/" rel="external nofollow noreferrer" target="_blank" title="StackOverflow"><i class="fa-brands fa-stack-overflow"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fa-solid fa-square-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">此博客为我记录运维工作总结所用，供网友阅读参考，如有侵权，请通知我，我会核实后进行处理。</br>
<strong style="color: red;">欢迎加入技术交流群：</strong>
<div class="aside-qrcode" >
<img src="https://src.babudiu.com/card/wechat_ops_group.JPG" title="微信群" width="100%" height="auto">
</div>
</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A2%9E%E5%8A%A0%E7%94%A8%E6%88%B7"><span class="toc-number">1.</span> <span class="toc-text">增加用户</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%E4%BF%A1%E6%81%AF"><span class="toc-number">2.</span> <span class="toc-text">修改用户信息</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7"><span class="toc-number">3.</span> <span class="toc-text">删除用户</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/stmd3s/" title="Linux磁盘管理"><img src="https://static.zahui.fan/public/skeleton1.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux磁盘管理"/></a><div class="content"><a class="title" href="/posts/stmd3s/" title="Linux磁盘管理">Linux磁盘管理</a><time datetime="2025-03-28T03:18:41.000Z" title="更新于 2025-03-28 11:18:41">2025-03-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/sm3z1i/" title="hexo butterfly 主题使用记录"><img src="https://static.zahui.fan/public/skeleton1.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="hexo butterfly 主题使用记录"/></a><div class="content"><a class="title" href="/posts/sm3z1i/" title="hexo butterfly 主题使用记录">hexo butterfly 主题使用记录</a><time datetime="2025-03-28T03:16:54.000Z" title="更新于 2025-03-28 11:16:54">2025-03-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/ssqj2c/" title="在 Hyper-V 下启用 Fedora 41 的增强会话模式"><img src="https://static.zahui.fan/images/20250328110319656.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="在 Hyper-V 下启用 Fedora 41 的增强会话模式"/></a><div class="content"><a class="title" href="/posts/ssqj2c/" title="在 Hyper-V 下启用 Fedora 41 的增强会话模式">在 Hyper-V 下启用 Fedora 41 的增强会话模式</a><time datetime="2025-03-28T03:05:24.000Z" title="更新于 2025-03-28 11:05:24">2025-03-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/seln9g/" title="使用 PowerShell 修改 Windows 防火墙规则"><img src="https://static.zahui.fan/public/Windows.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用 PowerShell 修改 Windows 防火墙规则"/></a><div class="content"><a class="title" href="/posts/seln9g/" title="使用 PowerShell 修改 Windows 防火墙规则">使用 PowerShell 修改 Windows 防火墙规则</a><time datetime="2025-03-27T14:57:12.000Z" title="更新于 2025-03-27 22:57:12">2025-03-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/sq6bmc/" title="开源组网工具-easytier"><img src="https://static.zahui.fan/public/skeleton1.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="开源组网工具-easytier"/></a><div class="content"><a class="title" href="/posts/sq6bmc/" title="开源组网工具-easytier">开源组网工具-easytier</a><time datetime="2025-03-24T17:42:45.000Z" title="更新于 2025-03-25 01:42:45">2025-03-25</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="footer_custom_text"><a target="_blank" rel="noopener external nofollow noreferrer" href='https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral'>
  本网站由<img src='https://static.zahui.fan/public/upyun.svg' alt='又拍云' width='70' height='28' style="vertical-align:bottom">
  提供CDN加速/云存储服务
</a>
</br>
<a href="https://beian.miit.gov.cn/" rel="external nofollow noreferrer" target="_blank">沪ICP备2021015230号-1</a>
</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="前往评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/pluginsSrc/@fancyapps/ui/dist/fancybox/fancybox.umd.js"></script><script src="/pluginsSrc/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>(() => {
  const isShuoshuo = GLOBAL_CONFIG_SITE.pageType === 'shuoshuo'
  const option = null

  const getGiscusTheme = theme => theme === 'dark' ? 'dark' : 'light'

  const createScriptElement = config => {
    const ele = document.createElement('script')
    Object.entries(config).forEach(([key, value]) => {
      ele.setAttribute(key, value)
    })
    return ele
  }

  const loadGiscus = (el = document, key) => {
    const mappingConfig = isShuoshuo
      ? { 'data-mapping': 'specific', 'data-term': key }
      : { 'data-mapping': (option && option['data-mapping']) || 'pathname' }

    const giscusConfig = {
      src: 'https://giscus.babudiu.com/client.js',
      'data-repo': 'iuxt/iuxt.github.io',
      'data-repo-id': 'R_kgDOMszkdA',
      'data-category-id': 'DIC_kwDOMszkdM4CiMyw',
      'data-theme': getGiscusTheme(document.documentElement.getAttribute('data-theme')),
      'data-reactions-enabled': '1',
      crossorigin: 'anonymous',
      async: true,
      ...option,
      ...mappingConfig
    }

    const scriptElement = createScriptElement(giscusConfig)

    el.querySelector('#giscus-wrap').appendChild(scriptElement)

    if (isShuoshuo) {
      window.shuoshuoComment.destroyGiscus = () => {
        if (el.children.length) {
          el.innerHTML = ''
          el.classList.add('no-comment')
        }
      }
    }
  }

  const changeGiscusTheme = theme => {
    const iframe = document.querySelector('#giscus-wrap iframe')
    if (iframe) {
      const message = {
        giscus: {
          setConfig: {
            theme: getGiscusTheme(theme)
          }
        }
      }
      iframe.contentWindow.postMessage(message, 'https://giscus.babudiu.com')
    }
  }

  btf.addGlobalFn('themeChange', changeGiscusTheme, 'giscus')

  if (isShuoshuo) {
    'Giscus' === 'Giscus'
      ? window.shuoshuoComment = { loadComment: loadGiscus }
      : window.loadOtherComment = loadGiscus
    return
  }

  if ('Giscus' === 'Giscus' || !false) {
    if (false) btf.loadComment(document.getElementById('giscus-wrap'), loadGiscus)
    else loadGiscus()
  } else {
    window.loadOtherComment = loadGiscus
  }
})()</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜搜搜" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>
<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>杂烩饭 - 张理坤的博客 - 运维技术分享</title><meta name="author" content="张理坤"><meta name="copyright" content="张理坤"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="张理坤的个人技术博客, 致力于分享运维开发等技术经验, 由系统运维、脚本编程、devops等分类组成, 涵盖了Docker、k8s、Python、Linux、Shell脚本、MySQL、Prometheus、ElasticSearch、虚拟化、Django、vue等内容。">
<meta property="og:type" content="website">
<meta property="og:title" content="杂烩饭">
<meta property="og:url" content="https://zahui.fan/page/21/">
<meta property="og:site_name" content="杂烩饭">
<meta property="og:description" content="张理坤的个人技术博客, 致力于分享运维开发等技术经验, 由系统运维、脚本编程、devops等分类组成, 涵盖了Docker、k8s、Python、Linux、Shell脚本、MySQL、Prometheus、ElasticSearch、虚拟化、Django、vue等内容。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://static.zahui.fan/public/dog.svg">
<meta property="article:author" content="张理坤">
<meta property="article:tag" content="Kubernetes,Prometheus,ElasticSearch,OPS,DevOps,运维,MySQL,Linux,云原生">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://static.zahui.fan/public/dog.svg"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://zahui.fan/page/21/"><link rel="preconnect"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="manifest" href="/site.webmanifest"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/pluginsSrc/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="/pluginsSrc/@fancyapps/ui/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?50b516d50102c8c9ac5f80529b81ca17";
  var s = document.getElementsByTagName("script")[0];
  s.parentNode.insertBefore(hm, s);
})();
btf.addGlobalFn('pjaxComplete', () => {
  _hmt.push(['_trackPageview',window.location.pathname])
}, 'baidu_analytics')
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-YN0WWZGVYN"></script><script>window.dataLayer = window.dataLayer || []
function gtag(){dataLayer.push(arguments)}
gtag('js', new Date())
gtag('config', 'G-YN0WWZGVYN')
btf.addGlobalFn('pjaxComplete', () => {
  gtag('config', 'G-YN0WWZGVYN', {'page_path': window.location.pathname})
}, 'google_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: '/pluginsSrc/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyloadPlugin: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '杂烩饭',
  isHighlightShrink: false,
  isToc: false,
  pageType: 'home'
}</script><link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/lxgw-wenkai-screen-webfont/1.7.0/style.min.css" /><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="杂烩饭" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://static.zahui.fan/public/dog.svg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">363</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">219</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 工具</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://bbk-games.zahui.fan/"><i class="fa-fw fas fa-gamepad"></i><span> 小游戏</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://aria2.babudiu.com/"><i class="fa-fw fas fa-download"></i><span> Aria2</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://file.babudiu.com/"><i class="fa-fw fa-solid fa-file"></i><span> 网盘</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa-solid fa-paperclip"></i><span> 林克</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa-brands fa-apple fa-bounce"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page fixed" id="page-header" style="background-image: url(https://static.zahui.fan/public/cloud-dark.svg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="https://static.zahui.fan/public/boob.png" alt="Logo"><span class="site-name">杂烩饭</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 工具</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://bbk-games.zahui.fan/"><i class="fa-fw fas fa-gamepad"></i><span> 小游戏</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://aria2.babudiu.com/"><i class="fa-fw fas fa-download"></i><span> Aria2</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://file.babudiu.com/"><i class="fa-fw fa-solid fa-file"></i><span> 网盘</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa-solid fa-paperclip"></i><span> 林克</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa-brands fa-apple fa-bounce"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="site-info"><h1 id="site-title">杂烩饭</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/iuxt" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:x@zahui.fan" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://space.bilibili.com/165330963" rel="external nofollow noreferrer" target="_blank" title="Bilibili"><i class="fa-brands fa-bilibili"></i></a><a class="social-icon" href="https://stackoverflow.com/users/15620461/" rel="external nofollow noreferrer" target="_blank" title="StackOverflow"><i class="fa-brands fa-stack-overflow"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fa-solid fa-square-rss"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts nc" id="recent-posts"><div class="recent-post-items"><div class="recent-post-item"><div class="post_cover"><a href="/posts/4d67bced/" title="MySQL Binlog 常用操作记录"><img class="post-bg" src="https://static.zahui.fan/public/MySQL.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="MySQL Binlog 常用操作记录"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/4d67bced/" title="MySQL Binlog 常用操作记录">MySQL Binlog 常用操作记录</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-10-02T14:13:43.000Z" title="发表于 2022-10-02 22:13:43">2022-10-02</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></span></div><div class="content">本文记录一些日常使用 MySQL binlog 的命令记录，方便日后查询。 开启 binlog 日志 (在 [mysqld] 下修改或添加如下配置)123server-id=1log-bin=mysql-binbinlog_format=MIXED  binlog 日志模式12345678910Mysql复制主要有三种方式：基于SQL语句的复制(statement-based replication, SBR)，基于行的复制(row-based replication, RBR)，混合模式复制(mixed-based replication, MBR)。对应的，binlog的格式也有三种：STATEMENT，ROW，MIXED。1、STATEMENT模式（SBR）每一条会修改数据的sql语句会记录到binlog中。优点是并不需要记录每一条sql语句和每一行的数据变化，减少了binlog日志量，节约IO，提高性能。缺点是在某些情况下会导致master-slave中的数据不一致(如sleep()函数， last_insert_id()，以及user-defined...</div></div></div><div class="recent-post-item"><div class="post_cover"><a href="/posts/913ca09b/" title="Mysqldump备份数据库"><img class="post-bg" src="https://static.zahui.fan/public/MySQL.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Mysqldump备份数据库"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/913ca09b/" title="Mysqldump备份数据库">Mysqldump备份数据库</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-30T02:10:41.000Z" title="发表于 2022-09-30 10:10:41">2022-09-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></span></div><div class="content">mysqldump 是 MySQL 数据库自带的导出 sql 工具，可以导出原生 sql，方便后续使用。 创建备份用户1234567CREATE USER &#x27;backup&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;password&#x27;;/* Grant all privileges on *.* to &#x27;backup&#x27;@&#x27;%&#x27; with grant option; */Grant select,lock tables,show view,trigger,event on database.* to &#x27;backup&#x27;@&#x27;%&#x27;;ALTER USER &#x27;backup&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;password&#x27;;  备份格式1mysqldump -h主机名 -P端口 -u用户名 -p密码 --databases 数据库名 &gt; 文件名.sql  备份压缩mysql...</div></div></div><div class="recent-post-item"><div class="post_cover"><a href="/posts/61baae6f/" title="Kubernetes中使用Prometheus对集群节点做监控"><img class="post-bg" src="https://static.zahui.fan/public/Prometheus.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Kubernetes中使用Prometheus对集群节点做监控"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/61baae6f/" title="Kubernetes中使用Prometheus对集群节点做监控">Kubernetes中使用Prometheus对集群节点做监控</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-20T08:28:16.000Z" title="发表于 2022-09-20 16:28:16">2022-09-20</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E7%9B%91%E6%8E%A7/">监控</a></span></div><div class="content">正常情况下使用 Prometheus 对机器做监控，比如监控 CPU、内存、磁盘等信息， 都是在机器上安装一个 node exporter， 然后将 metrics 接入到 Prometheus 中。在 k8s 环境下， 我们可以使用 k8s 来管理， 实现自动化监控。 node exporter 是针对主机节点的， 需要在每台 node 节点上安装， 那么 daemonset 控制器是最合理的选择。 网络使用 Host Network 模式， 在主机上直接暴露一个端口。 部署 node exporter使用 yaml 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263apiVersion: apps/v1kind: DaemonSetmetadata:  name: node-exporter  namespace: monitor  labels:    name:...</div></div></div><div class="recent-post-item"><div class="post_cover"><a href="/posts/1b957a56/" title="Linux内核参数"><img class="post-bg" src="https://static.zahui.fan/public/linux.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux内核参数"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/1b957a56/" title="Linux内核参数">Linux内核参数</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-06T08:39:41.000Z" title="发表于 2022-09-06 16:39:41">2022-09-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%9F%BA%E7%A1%80%E8%BF%90%E7%BB%B4/">基础运维</a></span></div><div class="content">修改内核参数临时修改修改&#x2F;proc 目录1echo 2048 &gt; /proc/sys/net/core/somaxconn   &#x2F;proc&#x2F;sys&#x2F; 目录是 Linux 内核启动后生成的伪目录，其目录下的 net 文件夹中存放了当前系统中生效的所有内核参数、目录树结构与参数的完整名称相关，如 net.ipv4.tcp_tw_recycle，它对应的文件是 &#x2F;proc&#x2F;sys&#x2F;net&#x2F;ipv4&#x2F;tcp_tw_recycle，文件的内容就是参数值。  sysctl 命令修改1sysctl -w net.ipv4.tcp_tw_recycle=&quot;0&quot;  永久修改123vim /etc/sysctl.confnet.core.somaxconn = 2048sysctl -p  查看内核参数查看&#x2F;proc&#x2F;目录1cat /proc/sys/net/ipv4/tcp_tw_recycle  sysctl 查看12sysctl -a            ...</div></div></div><div class="recent-post-item"><div class="post_cover"><a href="/posts/a03938f2/" title="编译安装PHP7.2"><img class="post-bg" src="https://static.zahui.fan/images/202211012253797.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="编译安装PHP7.2"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/a03938f2/" title="编译安装PHP7.2">编译安装PHP7.2</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-03T14:13:04.000Z" title="发表于 2022-09-03 22:13:04">2022-09-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%9F%BA%E7%A1%80%E8%BF%90%E7%BB%B4/">基础运维</a></span></div><div class="content">本文记录一下在 Linux 下编译安装 PHP 过程，没有特殊需求的话，使用 yum 源安装更方便。 准备工作准备源码包12wget https://www.php.net/distributions/php-7.2.28.tar.bz2mkdir -p /data/exec  创建用户1useradd www -s &#x27;/sbin/nologin&#x27;  安装编译依赖12345apt install -y libxml2 libxml2-dev libcurl4-openssl-dev libfreetype6-dev libjpeg-dev libicu-dev libxslt1-dev opensslyum install -y libxml2-devel libcurl-devel libjpeg libpng freetype libjpeg-devel libpng-devel freetype-devel libicu-devel libxslt-devel# ldap扩展需要安装libldap-dev这个包  编译...</div></div></div><div class="recent-post-item"><div class="post_cover"><a href="/posts/6a0f629b/" title="Linux查看系统硬件信息"><img class="post-bg" src="https://static.zahui.fan/public/linux.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux查看系统硬件信息"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/6a0f629b/" title="Linux查看系统硬件信息">Linux查看系统硬件信息</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-09-03T12:15:24.000Z" title="发表于 2022-09-03 20:15:24">2022-09-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%9F%BA%E7%A1%80%E8%BF%90%E7%BB%B4/">基础运维</a></span></div><div class="content">CPU查看 cpu 型号 1cat /proc/cpuinfo |grep &quot;model name&quot;  查看 CPU 核心数 1cat /proc/cpuinfo |grep &quot;cpu cores&quot;  查看 cpu 支不支持 aes(结果有 aes 即为支持) 1grep -m1 -o aes /proc/cpuinfo  内存查看内存大小 1cat /proc/meminfo |grep MemTotal  查看内存型号，插槽 1dmidecode -t memory | grep &quot;Size:&quot;  硬盘查看硬盘 1fdisk -l |grep Disk  查看挂载、分区 1sudo lsblk  查看软 raid 状态 1cat /proc/mdstat  PCI 设备查看 pci 设备 1lspci -tv  网卡查看网卡 crc 校验错误数： 1ethtool -S ens1f1 | grep rx_crc_errors:  如果数量一致增大，就是有问题 dmesg 可以查看网卡 down 和 up 的情况 </div></div></div><div class="recent-post-item"><div class="post_cover"><a href="/posts/sik5eq/" title="LinuxMint配置记录"><img class="post-bg" src="https://static.zahui.fan/public/skeleton1.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LinuxMint配置记录"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/sik5eq/" title="LinuxMint配置记录">LinuxMint配置记录</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-08-21T07:42:25.000Z" title="发表于 2022-08-21 15:42:25">2022-08-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></span></div><div class="content">文章基于 LinuxMint 22 版本， 对应的 Ubuntu 版本是 24.04 修改 grub 启动延迟默认延迟 30s，太久了 搜索到的文章是修改 /etc/default/grub 里面的 GRUB_TIMEOUT 值，然后重新生成 grub 配置，我测试不生效。应该增加 GRUB_RECORDFAIL_TIMEOUT=3 12345# 更新grub配置文件sudo update-grub# 或者# sudo grub-mkconfig –o /etc/grub2.cfg  基础环境配置安装常用的包12sudo apt update &amp;&amp; sudo apt upgrade -ysudo apt install -y libmysqlclient-dev build-essential libssl-dev zlib1g-dev libbz2-dev libreadline-dev libsqlite3-dev libncursesw5-dev xz-utils tk-dev libxml2-dev libxmlsec1-dev libffi-dev...</div></div></div><div class="recent-post-item"><div class="post_cover"><a href="/posts/86a9c8f5/" title="优雅地给正在运行的MySQL添加从库"><img class="post-bg" src="https://static.zahui.fan/public/MySQL.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="优雅地给正在运行的MySQL添加从库"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/86a9c8f5/" title="优雅地给正在运行的MySQL添加从库">优雅地给正在运行的MySQL添加从库</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-08-16T05:21:34.000Z" title="发表于 2022-08-16 13:21:34">2022-08-16</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></span></div><div class="content">前言之前写过一篇 MySQL主从同步配置 给 MySQL 配置从库，在主库在使用的情况下，需要将主库进行禁止写入操作，然后再导出导入，如果库比较大的话， 会对业务造成一定的影响。这篇文章主要介绍如何不停机进行添加从库。 主库操作开启 binlog123[mysqld]log_bin=mysql-binserver-id=1  这里注意 server-id 主从不能一样, 配置完成重启 mysql 创建用于同步的用户账号登陆数据库 1mysql -hlocalhost -uroot -ppassword  创建用户并授权 1CREATE USER &#x27;repl&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;123456&#x27;;  授权 12GRANT REPLICATION SLAVE ON *.* TO &#x27;repl&#x27;@&#x27;%&#x27;;flush privileges;  导出数据库 sql1mysqldump -uroot -ppassword -hlocalhost -P3306...</div></div></div><div class="recent-post-item"><div class="post_cover"><a href="/posts/3b23b5cb/" title="二进制安装MySQL5.7"><img class="post-bg" src="https://static.zahui.fan/public/MySQL.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="二进制安装MySQL5.7"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/3b23b5cb/" title="二进制安装MySQL5.7">二进制安装MySQL5.7</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-08-14T03:41:08.000Z" title="发表于 2022-08-14 11:41:08">2022-08-14</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/">数据库</a></span></div><div class="content">如有特殊需求需要编译安装 MySQL 请看 编译安装MySQL5.7 准备工作卸载系统中的 MySQL 或 mariadb123rpm -qa | grep mysqlrpm -qa | grep mariadbyum remove xxx  下载二进制安装包MySQL官网 选择操作系统为 Linux-Generic 选择下载文件名为：mysql-5.7.39-linux-glibc2.12-x86_64.tar.gz 当然也可以用 wget 直接下载 1wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.39-linux-glibc2.12-x86_64.tar.gz  创建用户1useradd -M -s /sbin/nologin -r mysql  安装依赖包为了避免执行 mysql 命令报错 ibncurses.so.5 或者 libnuma.so.1 找不到 CentOSUbuntu1yum install -y ncurses-devel numactl-libs  注意： CentOS 9 或...</div></div></div><div class="recent-post-item"><div class="post_cover"><a href="/posts/675d47a9/" title="使用keepalived完成LVS高可用"><img class="post-bg" src="https://static.zahui.fan/public/skeleton1.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用keepalived完成LVS高可用"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/675d47a9/" title="使用keepalived完成LVS高可用">使用keepalived完成LVS高可用</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-07-29T05:09:47.000Z" title="发表于 2022-07-29 13:09:47">2022-07-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%9F%BA%E7%A1%80%E8%BF%90%E7%BB%B4/">基础运维</a></span></div><div class="content"> 有了 keepalived 可以不用执行 ipvsadm 了， 并且可以实现自动剔除节点，还可以两台 Director 做高可用。  手动配置 LVS 请看 内核级负载均衡 LVS DR模式 部署记录 另见：使用Keepalived来实现Nginx高可用 规划：    机器 IP    VIP 10.0.0.8   director 10.0.0.40   realserver1 10.0.0.42   realserver2 10.0.0.43   网卡 interface eth0   单台 Director Serverkeepalived 配置： 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950vrrp_sync_group GOP &#123;    group &#123;        VI_PRI_CONNECT        VI_PRI_AUTH    &#125;&#125;vrrp_instance...</div></div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/20/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/20/#content-inner">20</a><span class="page-number current">21</span><a class="page-number" href="/page/22/#content-inner">22</a><span class="space">&hellip;</span><a class="page-number" href="/page/37/#content-inner">37</a><a class="extend next" rel="next" href="/page/22/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://static.zahui.fan/public/dog.svg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">张理坤</div><div class="author-info-description">张理坤的博客</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">363</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">219</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/iuxt"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/iuxt" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:x@zahui.fan" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://space.bilibili.com/165330963" rel="external nofollow noreferrer" target="_blank" title="Bilibili"><i class="fa-brands fa-bilibili"></i></a><a class="social-icon" href="https://stackoverflow.com/users/15620461/" rel="external nofollow noreferrer" target="_blank" title="StackOverflow"><i class="fa-brands fa-stack-overflow"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fa-solid fa-square-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">此博客为我记录运维工作总结所用，供网友阅读参考，如有侵权，请通知我，我会核实后进行处理。</br>
<strong style="color: red;">欢迎加入技术交流群：</strong>
<div class="aside-qrcode" >
<img src="https://src.babudiu.com/card/wechat_ops_group.JPG" title="微信群" width="100%" height="auto">
</div>
</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/sycvjt/" title="P12格式证书与PEM格式转换"><img src="https://static.zahui.fan/public/skeleton1.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="P12格式证书与PEM格式转换"/></a><div class="content"><a class="title" href="/posts/sycvjt/" title="P12格式证书与PEM格式转换">P12格式证书与PEM格式转换</a><time datetime="2025-06-24T10:33:14.000Z" title="更新于 2025-06-24 18:33:14">2025-06-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/sof9i3/" title="使用kubeadm部署一套高可用k8s 1.32集群 for AlmaLinux9(RHEL9)"><img src="https://static.zahui.fan/public/kubernetes.avif" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用kubeadm部署一套高可用k8s 1.32集群 for AlmaLinux9(RHEL9)"/></a><div class="content"><a class="title" href="/posts/sof9i3/" title="使用kubeadm部署一套高可用k8s 1.32集群 for AlmaLinux9(RHEL9)">使用kubeadm部署一套高可用k8s 1.32集群 for AlmaLinux9(RHEL9)</a><time datetime="2025-06-20T09:13:47.000Z" title="更新于 2025-06-20 17:13:47">2025-06-20</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/6cc59126/" title="centos常用配置"><img src="https://static.zahui.fan/public/CentOS.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="centos常用配置"/></a><div class="content"><a class="title" href="/posts/6cc59126/" title="centos常用配置">centos常用配置</a><time datetime="2025-06-19T02:58:42.000Z" title="更新于 2025-06-19 10:58:42">2025-06-19</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/1da8e73d/" title="编译安装Redis记录"><img src="https://static.zahui.fan/public/redis.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="编译安装Redis记录"/></a><div class="content"><a class="title" href="/posts/1da8e73d/" title="编译安装Redis记录">编译安装Redis记录</a><time datetime="2025-06-18T07:45:39.000Z" title="更新于 2025-06-18 15:45:39">2025-06-18</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/sxztsa/" title="使用blackbox-exporter做域名监控"><img src="https://static.zahui.fan/public/skeleton1.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用blackbox-exporter做域名监控"/></a><div class="content"><a class="title" href="/posts/sxztsa/" title="使用blackbox-exporter做域名监控">使用blackbox-exporter做域名监控</a><time datetime="2025-06-18T07:28:39.000Z" title="更新于 2025-06-18 15:28:39">2025-06-18</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
          </div>
          <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Windows/"><span class="card-category-list-name">Windows</span><span class="card-category-list-count">52</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%9F%BA%E7%A1%80%E8%BF%90%E7%BB%B4/"><span class="card-category-list-name">基础运维</span><span class="card-category-list-count">123</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%AE%B9%E5%99%A8/"><span class="card-category-list-name">容器</span><span class="card-category-list-count">64</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/"><span class="card-category-list-name">工具</span><span class="card-category-list-count">45</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%BC%80%E5%8F%91/"><span class="card-category-list-name">开发</span><span class="card-category-list-count">22</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"><span class="card-category-list-name">数据库</span><span class="card-category-list-count">20</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%97%A5%E5%BF%97/"><span class="card-category-list-name">日志</span><span class="card-category-list-count">13</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%9B%91%E6%8E%A7/"><span class="card-category-list-name">监控</span><span class="card-category-list-count">24</span></a></li>
          </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/%E6%BC%8F%E6%B4%9E%E6%89%AB%E6%8F%8F/" style="font-size: 1.1em; color: #999">漏洞扫描</a> <a href="/tags/Network/" style="font-size: 1.37em; color: #99a4b2">Network</a> <a href="/tags/%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6/" style="font-size: 1.14em; color: #999b9d">配置文件</a> <a href="/tags/Markdown/" style="font-size: 1.1em; color: #999">Markdown</a> <a href="/tags/volume/" style="font-size: 1.1em; color: #999">volume</a> <a href="/tags/ACK/" style="font-size: 1.1em; color: #999">ACK</a> <a href="/tags/cygwin/" style="font-size: 1.1em; color: #999">cygwin</a> <a href="/tags/kubectl/" style="font-size: 1.28em; color: #99a0aa">kubectl</a> <a href="/tags/linuxmint/" style="font-size: 1.1em; color: #999">linuxmint</a> <a href="/tags/windows/" style="font-size: 1.1em; color: #999">windows</a> <a href="/tags/Ubuntu/" style="font-size: 1.23em; color: #999ea6">Ubuntu</a> <a href="/tags/%E6%B5%8B%E8%AF%95/" style="font-size: 1.14em; color: #999b9d">测试</a> <a href="/tags/%E6%B8%B8%E6%88%8F/" style="font-size: 1.1em; color: #999">游戏</a> <a href="/tags/nginx/" style="font-size: 1.32em; color: #99a2ae">nginx</a> <a href="/tags/keepalived/" style="font-size: 1.37em; color: #99a4b2">keepalived</a> <a href="/tags/logstash/" style="font-size: 1.14em; color: #999b9d">logstash</a> <a href="/tags/DNS/" style="font-size: 1.14em; color: #999b9d">DNS</a> <a href="/tags/Systemd/" style="font-size: 1.19em; color: #999da1">Systemd</a> <a href="/tags/%E8%84%9A%E6%9C%AC/" style="font-size: 1.23em; color: #999ea6">脚本</a> <a href="/tags/%E6%95%88%E7%8E%87%E5%B7%A5%E5%85%B7/" style="font-size: 1.19em; color: #999da1">效率工具</a> <a href="/tags/OpenSSH/" style="font-size: 1.19em; color: #999da1">OpenSSH</a> <a href="/tags/%E5%8A%A0%E5%AF%86/" style="font-size: 1.28em; color: #99a0aa">加密</a> <a href="/tags/pyotp/" style="font-size: 1.1em; color: #999">pyotp</a> <a href="/tags/Radius/" style="font-size: 1.1em; color: #999">Radius</a> <a href="/tags/%E7%BC%96%E7%A0%81/" style="font-size: 1.19em; color: #999da1">编码</a> <a href="/tags/Ansible/" style="font-size: 1.1em; color: #999">Ansible</a> <a href="/tags/%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/" style="font-size: 1.41em; color: #99a5b7">常用操作</a> <a href="/tags/webdav/" style="font-size: 1.1em; color: #999">webdav</a> <a href="/tags/java/" style="font-size: 1.14em; color: #999b9d">java</a> <a href="/tags/Auth/" style="font-size: 1.32em; color: #99a2ae">Auth</a> <a href="/tags/shell/" style="font-size: 1.19em; color: #999da1">shell</a> <a href="/tags/Kubernetes/" style="font-size: 1.5em; color: #99a9bf">Kubernetes</a> <a href="/tags/time/" style="font-size: 1.14em; color: #999b9d">time</a> <a href="/tags/secret/" style="font-size: 1.1em; color: #999">secret</a> <a href="/tags/%E9%98%BF%E9%87%8C%E4%BA%91/" style="font-size: 1.1em; color: #999">阿里云</a> <a href="/tags/%E7%BC%96%E8%AF%91/" style="font-size: 1.19em; color: #999da1">编译</a> <a href="/tags/node-exporter/" style="font-size: 1.14em; color: #999b9d">node_exporter</a> <a href="/tags/PowerShell/" style="font-size: 1.19em; color: #999da1">PowerShell</a> <a href="/tags/Command/" style="font-size: 1.46em; color: #99a7bb">Command</a> <a href="/tags/bat/" style="font-size: 1.46em; color: #99a7bb">bat</a></div></div><div class="card-widget card-archives">
    <div class="item-headline">
      <i class="fas fa-archive"></i>
      <span>归档</span>
      <a class="card-more-btn" href="/archives/"
            title="查看更多">
            <i class="fas fa-angle-right"></i>
          </a>
    </div>
  
    <ul class="card-archive-list">
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/06/">
            <span class="card-archive-list-date">
              六月 2025
            </span>
            <span class="card-archive-list-count">4</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/05/">
            <span class="card-archive-list-date">
              五月 2025
            </span>
            <span class="card-archive-list-count">2</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/04/">
            <span class="card-archive-list-date">
              四月 2025
            </span>
            <span class="card-archive-list-count">3</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/03/">
            <span class="card-archive-list-date">
              三月 2025
            </span>
            <span class="card-archive-list-count">3</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/02/">
            <span class="card-archive-list-date">
              二月 2025
            </span>
            <span class="card-archive-list-count">4</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2025/01/">
            <span class="card-archive-list-date">
              一月 2025
            </span>
            <span class="card-archive-list-count">1</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2024/12/">
            <span class="card-archive-list-date">
              十二月 2024
            </span>
            <span class="card-archive-list-count">7</span>
          </a>
        </li>
      
        <li class="card-archive-list-item">
          <a class="card-archive-list-link" href="/archives/2024/11/">
            <span class="card-archive-list-date">
              十一月 2024
            </span>
            <span class="card-archive-list-count">7</span>
          </a>
        </li>
      
    </ul>
  </div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站信息</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">363</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总浏览量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2025-06-24T10:34:16.974Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="footer_custom_text"><a target="_blank" rel="noopener external nofollow noreferrer" href='https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral'>
  本网站由<img src='https://static.zahui.fan/public/upyun.svg' alt='又拍云' width='70' height='28' style="vertical-align:bottom">
  提供CDN加速/云存储服务
</a>
</br>
<a href="https://beian.miit.gov.cn/" rel="external nofollow noreferrer" target="_blank">沪ICP备2021015230号-1</a>
</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/pluginsSrc/@fancyapps/ui/dist/fancybox/fancybox.umd.js"></script><script src="/pluginsSrc/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: str => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: subtitleType => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        btf.getScript('/pluginsSrc/typed.js/dist/typed.umd.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  },
  processSubtitle: (content, extraContents = []) => {
    if (true) {
      const sub = ["♥ Do have faith in what you're doing.","欲穷千里目，更上一层楼。","学而不思则罔，思而不学则殆。"].slice()

      if (extraContents.length > 0) {
        sub.unshift(...extraContents)
      }

      if (typeof content === 'string') {
        sub.unshift(content)
      } else if (Array.isArray(content)) {
        sub.unshift(...content)
      }

      sub.length > 0 && typedJSFn.init(sub)
    } else {
      document.getElementById('subtitle').textContent = typeof content === 'string' ? content :
        (Array.isArray(content) && content.length > 0 ? content[0] : '')
    }
  }
}
btf.addGlobalFn('pjaxSendOnce', () => { typed.destroy() }, 'typedDestroy')
</script><script>function subtitleType () {
  typedJSFn.processSubtitle(["♥ Do have faith in what you're doing.","欲穷千里目，更上一层楼。","学而不思则罔，思而不学则殆。"])
}
typedJSFn.run(subtitleType)</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜搜搜" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>
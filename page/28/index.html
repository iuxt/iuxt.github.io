<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>杂烩饭 - 张理坤的博客 - 运维技术分享</title><meta name="author" content="张理坤"><meta name="copyright" content="张理坤"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="张理坤的个人技术博客, 致力于分享运维开发等技术经验, 由系统运维、脚本编程、devops等分类组成, 涵盖了Docker、k8s、Python、Linux、Shell脚本、MySQL、Prometheus、ElasticSearch、虚拟化、Django、vue等内容。">
<meta property="og:type" content="website">
<meta property="og:title" content="杂烩饭">
<meta property="og:url" content="https://zahui.fan/page/28/">
<meta property="og:site_name" content="杂烩饭">
<meta property="og:description" content="张理坤的个人技术博客, 致力于分享运维开发等技术经验, 由系统运维、脚本编程、devops等分类组成, 涵盖了Docker、k8s、Python、Linux、Shell脚本、MySQL、Prometheus、ElasticSearch、虚拟化、Django、vue等内容。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://static.zahui.fan/public/dog.svg">
<meta property="article:author" content="张理坤">
<meta property="article:tag" content="Kubernetes,Prometheus,ElasticSearch,OPS,DevOps,运维,MySQL,Linux,云原生">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://static.zahui.fan/public/dog.svg"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://zahui.fan/page/28/"><link rel="preconnect"/><link rel="preconnect" href="//www.google-analytics.com" crossorigin=""/><link rel="preconnect" href="//hm.baidu.com"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="manifest" href="/site.webmanifest"/><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"/><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="/pluginsSrc/@fortawesome/fontawesome-free/css/all.min.css"><link rel="stylesheet" href="/pluginsSrc/@fancyapps/ui/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><script>
    (() => {
      
    const saveToLocal = {
      set: (key, value, ttl) => {
        if (!ttl) return
        const expiry = Date.now() + ttl * 86400000
        localStorage.setItem(key, JSON.stringify({ value, expiry }))
      },
      get: key => {
        const itemStr = localStorage.getItem(key)
        if (!itemStr) return undefined
        const { value, expiry } = JSON.parse(itemStr)
        if (Date.now() > expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return value
      }
    }

    window.btf = {
      saveToLocal,
      getScript: (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        Object.entries(attr).forEach(([key, val]) => script.setAttribute(key, val))
        script.onload = script.onreadystatechange = () => {
          if (!script.readyState || /loaded|complete/.test(script.readyState)) resolve()
        }
        script.onerror = reject
        document.head.appendChild(script)
      }),
      getCSS: (url, id) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onload = link.onreadystatechange = () => {
          if (!link.readyState || /loaded|complete/.test(link.readyState)) resolve()
        }
        link.onerror = reject
        document.head.appendChild(link)
      }),
      addGlobalFn: (key, fn, name = false, parent = window) => {
        if (!false && key.startsWith('pjax')) return
        const globalFn = parent.globalFn || {}
        globalFn[key] = globalFn[key] || {}
        if (name && globalFn[key][name]) return
        globalFn[key][name || Object.keys(globalFn[key]).length] = fn
        parent.globalFn = globalFn
      }
    }
  
      
      const activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }
      const activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', 'undefined')
        }
      }

      btf.activateDarkMode = activateDarkMode
      btf.activateLightMode = activateLightMode

      const theme = saveToLocal.get('theme')
    
          theme === 'dark' ? activateDarkMode() : theme === 'light' ? activateLightMode() : null
        
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        document.documentElement.classList.toggle('hide-aside', asideStatus === 'hide')
      }
    
      
    const detectApple = () => {
      if (/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)) {
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
  
    })()
  </script><script>var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?50b516d50102c8c9ac5f80529b81ca17";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
btf.addGlobalFn('pjaxComplete', () => {
  _hmt.push(['_trackPageview',window.location.pathname])
}, 'baidu_analytics')
</script><script async="async" src="https://www.googletagmanager.com/gtag/js?id=G-YN0WWZGVYN"></script><script>window.dataLayer = window.dataLayer || []
function gtag(){dataLayer.push(arguments)}
gtag('js', new Date())
gtag('config', 'G-YN0WWZGVYN')
btf.addGlobalFn('pjaxComplete', () => {
  gtag('config', 'G-YN0WWZGVYN', {'page_path': window.location.pathname})
}, 'google_analytics')
</script><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"未找到符合您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"此文章距离发布已经","messageNext":"天了，内容可能已经过时，请自行判断是否可用或联系博主更新。"},
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false,"highlightFullpage":false,"highlightMacStyle":true},
  copy: {
    success: '复制成功',
    error: '复制失败',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: '/pluginsSrc/@egjs/infinitegrid/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '杂烩饭',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2024-12-31 11:52:41'
}</script><link rel="stylesheet" href="https://cdn.staticfile.org/lxgw-wenkai-screen-webfont/1.7.0/style.min.css" /><meta name="generator" content="Hexo 7.3.0"><link rel="alternate" href="/atom.xml" title="杂烩饭" type="application/atom+xml">
</head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img text-center"><img src="https://static.zahui.fan/public/dog.svg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data text-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">334</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">212</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 工具</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://bbk-games.zahui.fan/"><i class="fa-fw fas fa-gamepad"></i><span> 小游戏</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://aria2.babudiu.com/"><i class="fa-fw fas fa-download"></i><span> Aria2</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://file.babudiu.com/"><i class="fa-fw fa-solid fa-file"></i><span> 网盘</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa-solid fa-paperclip"></i><span> 林克</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa-brands fa-apple fa-bounce"></i><span> 关于</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page fixed" id="page-header" style="background-image: url(https://static.zahui.fan/public/cloud-dark.svg);"><nav id="nav"><span id="blog-info"><a class="nav-site-title" href="/"><img class="site-icon" src="https://static.zahui.fan/public/boob.png" alt="Logo"><span class="site-name">杂烩饭</span></a></span><div id="menus"><div id="search-button"><span class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></span></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><span class="site-page group"><i class="fa-fw fas fa-list"></i><span> 工具</span><i class="fas fa-chevron-down"></i></span><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://bbk-games.zahui.fan/"><i class="fa-fw fas fa-gamepad"></i><span> 小游戏</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://aria2.babudiu.com/"><i class="fa-fw fas fa-download"></i><span> Aria2</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://file.babudiu.com/"><i class="fa-fw fa-solid fa-file"></i><span> 网盘</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fa-solid fa-paperclip"></i><span> 林克</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fa-brands fa-apple fa-bounce"></i><span> 关于</span></a></div></div><div id="toggle-menu"><span class="site-page"><i class="fas fa-bars fa-fw"></i></span></div></div></nav><div id="site-info"><h1 id="site-title">杂烩饭</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/iuxt" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:x@zahui.fan" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://space.bilibili.com/165330963" rel="external nofollow noreferrer" target="_blank" title="Bilibili"><i class="fa-brands fa-bilibili"></i></a><a class="social-icon" href="https://stackoverflow.com/users/15620461/" rel="external nofollow noreferrer" target="_blank" title="StackOverflow"><i class="fa-brands fa-stack-overflow"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fa-solid fa-square-rss"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts nc" id="recent-posts"><div class="recent-post-items"><div class="recent-post-item"><div class="post_cover"><a href="/posts/5fdc91d7/" title="内核级负载均衡 LVS DR模式 部署记录"><img class="post-bg" src="https://static.zahui.fan/public/skeleton1.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="内核级负载均衡 LVS DR模式 部署记录"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/5fdc91d7/" title="内核级负载均衡 LVS DR模式 部署记录">内核级负载均衡 LVS DR模式 部署记录</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-08-03T02:06:51.000Z" title="发表于 2021-08-03 10:06:51">2021-08-03</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%9F%BA%E7%A1%80%E8%BF%90%E7%BB%B4/">基础运维</a></span></div><div class="content"> DR 模式，Director 和 realserver 都在一个内网里面，他们都绑定上同一个 VIP, 原理是通过 Director Server 修改数据包的 MAC 地址， 所以得让 realserver 不响应 arp，不然肯定会造成内网 IP 冲突  规划：    机器 IP    VIP 10.0.0.8   director 10.0.0.41   realserver1 10.0.0.42   realserver2 10.0.0.43   网卡 interface eth0   RealServer 设置创建虚拟网卡个人习惯，可选，可以绑定在任何网卡上面 1ip link add ipvs0 type dummy  配置不响应 ARP 请求方法1: 调整内核参数方法2: 采用arptables12345# 不响应ARP请求, 修改内核参数echo &quot;1&quot; &gt; /proc/sys/net/ipv4/conf/ipvs0/arp_ignoreecho &quot;1&quot; &gt;...</div></div></div><div class="recent-post-item"><div class="post_cover"><a href="/posts/e93bd813/" title="Shell指定分隔符"><img class="post-bg" src="https://static.zahui.fan/public/bash.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Shell指定分隔符"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/e93bd813/" title="Shell指定分隔符">Shell指定分隔符</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-30T13:48:01.000Z" title="发表于 2021-07-30 21:48:01">2021-07-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%9F%BA%E7%A1%80%E8%BF%90%E7%BB%B4/">基础运维</a></span></div><div class="content"> 为什么要指定换行符，我们看一个例子  1234567891011#!/bin/bashdata=&quot;a b cd e f&quot;for i in $datado  echo $idone  输出的结果是： 123456abcdef  因为系统默认把空格和换行都当作了分隔符。为了避免这种情况，我们可以手动指定分隔符： 123456789101112#!/bin/bashdata=&quot;a b cd e f&quot;IFS=$&#x27;\n&#x27;        # 指定分隔符为换行for i in $datado  echo $idone  这样打印出来的就是： 12a b cd e f  再看一个例子： 123456#!/bin/basha=&quot;aa,bb,cc,dd,ee&quot;for i in $ado    echo $idone  输出为：aa,bb,cc,dd,ee 我们想要的输出结果可能是这样 12345aabbccddee  可以修改成这样: 123456789#!/bin/basholdIFS=$IFS       ...</div></div></div><div class="recent-post-item"><div class="post_cover"><a href="/posts/3debc8f2/" title="Github Actions自动发布博客"><img class="post-bg" src="https://static.zahui.fan/images/202211011808880.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Github Actions自动发布博客"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/3debc8f2/" title="Github Actions自动发布博客">Github Actions自动发布博客</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-27T15:54:56.000Z" title="发表于 2021-07-27 23:54:56">2021-07-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></span></div><div class="content"> 偶然发现 github actions 可以执行一些命令，这下可以把我的 crontab 停掉了，也不用占用一台机器专门用来发布博客了，并且完全免费！！   首先我的 GitHub pages 和博客原始文件是分为两个仓库的，在 GitHub Pages 仓库里添加了一个 Actions 用来钉钉发通知：  GitHub 仓库配置 Secret需要先将环境变量配置在 Settings –&gt; Secrets and Variables –&gt; Actions 里面  配置后，可以在 actions 里面通过 $&#123;&#123; secrets.dingtalk_secret &#125;&#125; 调用到对应的数据 针对 Hexo 博客的构建123456789101112131415161718192021222324252627282930313233343536name: Deploy GitHub Pageson:  push:    branches:      - masterjobs:  deploy_github_pages:   ...</div></div></div><div class="recent-post-item"><div class="post_cover"><a href="/posts/f6f77df5/" title="Windows个人文件夹名字变英文"><img class="post-bg" src="https://static.zahui.fan/public/Windows.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Windows个人文件夹名字变英文"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/f6f77df5/" title="Windows个人文件夹名字变英文">Windows个人文件夹名字变英文</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-22T01:19:04.000Z" title="发表于 2021-07-22 09:19:04">2021-07-22</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Windows/">Windows</a></span></div><div class="content"> 有时候 windows 用户文件夹里面有些会变成英文,虽然没什么影响,不过强迫症会不舒服 (比如我)  这种情况是由于文件夹内没有 desktop.ini 导致的,或者 desktop.ini 权限不正确  desktop.ini 文件是一个隐藏文件  windows10 的 desktop.ini...</div></div></div><div class="recent-post-item"><div class="post_cover"><a href="/posts/4926dc90/" title="KVM虚拟机常用操作记录"><img class="post-bg" src="https://static.zahui.fan/public/skeleton1.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="KVM虚拟机常用操作记录"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/4926dc90/" title="KVM虚拟机常用操作记录">KVM虚拟机常用操作记录</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-21T06:20:55.000Z" title="发表于 2021-07-21 14:20:55">2021-07-21</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%9F%BA%E7%A1%80%E8%BF%90%E7%BB%B4/">基础运维</a></span></div><div class="content">检查前提条件检查 cpu 是否支持硬件虚拟化 1234567grep -Eoc &#x27;(vmx|svm)&#x27; /proc/cpuinfo# 或者使用 kvm-ok 工具监测sudo apt updatesudo apt install cpu-checkerkvm-ok  安装 kvm12345678sudo apt install qemu-kvm libvirt-daemon-system libvirt-clients bridge-utils virtinst virt-manager# 验证sudo systemctl is-active libvirtd# 增加用户权限sudo usermod -aG libvirt $USERsudo usermod -aG kvm $USER  添加和删除网卡（虚拟硬件）查看网卡列表1sudo virsh domiflist vm-yaohai  添加网卡 (模式桥接到 br0)1sudo virsh attach-interface vm-yaohai --type bridge --source br0...</div></div></div><div class="recent-post-item"><div class="post_cover"><a href="/posts/6c12bda4/" title="Python脚本接受参数"><img class="post-bg" src="https://static.zahui.fan/public/python.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Python脚本接受参数"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/6c12bda4/" title="Python脚本接受参数">Python脚本接受参数</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-06T08:06:33.000Z" title="发表于 2021-07-06 16:06:33">2021-07-06</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%BC%80%E5%8F%91/">开发</a></span></div><div class="content">完善一下 python 脚本，让它支持更完善的参数（长参数、短参数） 12345678910111213141516171819202122232425262728293031323334import getopt, sysdef parse_args(args=sys.argv[1:]):    try:        opts, args = getopt.getopt(args, &quot;hvc:w:&quot;, [&quot;help&quot;, &quot;short&quot;, &quot;verbose&quot;, &quot;critical_num=&quot;, &quot;warning_num=&quot;])    except getopt.GetoptError as err:        print(&quot;Input parameter error&quot;)        sys.exit()    verbose = False    short = False    for opt, arg in opts:     ...</div></div></div><div class="recent-post-item"><div class="post_cover"><a href="/posts/a80bd06b/" title="使用mimikatz读取windows密码"><img class="post-bg" src="https://static.zahui.fan/public/Windows-old.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用mimikatz读取windows密码"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/a80bd06b/" title="使用mimikatz读取windows密码">使用mimikatz读取windows密码</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-05T07:20:52.000Z" title="发表于 2021-07-05 15:20:52">2021-07-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/Windows/">Windows</a></span></div><div class="content">github地址 mimikatz 是一个小工具，可以查看到 windows 加载进内存的密码数据，首先最起码要使用 Administrator 权限启动 依次执行： 从 administrator 提升到 system 1privilege::debug    获取明文密码 1sekurlsa::logonpasswords </div></div></div><div class="recent-post-item"><div class="post_cover"><a href="/posts/bee2f20f/" title="Puppet遍历hash生成array"><img class="post-bg" src="https://static.zahui.fan/public/skeleton1.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Puppet遍历hash生成array"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/bee2f20f/" title="Puppet遍历hash生成array">Puppet遍历hash生成array</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-07-05T06:26:54.000Z" title="发表于 2021-07-05 14:26:54">2021-07-05</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%9F%BA%E7%A1%80%E8%BF%90%E7%BB%B4/">基础运维</a></span></div><div class="content"> 公司的 nagios 监控是使用 puppet 来进行自动部署的，但是需要手动修改 puppet 配置才能生效，现在的问题是添加一个新机器得先在 puppet 上添加机器，然后添加到相对应的组，我们想能否让它自动添加到对应的组里面。  vim nagios_server.pp 1234567891011121314151617181920212223242526272829nagios::nagios::add_linux_remote &#123;        &#x27;guangzhou.localhost.com&#x27; :        addr     =&gt; &#x27;10.0.0.9&#x27;,        services =&gt; [&#123;&#x27;name&#x27; =&gt; &#x27;check_load&#x27;, &#x27;desc&#x27; =&gt; &#x27;Current Load&#x27;, &#x27;notify&#x27; =&gt; 1&#125;,                    ...</div></div></div><div class="recent-post-item"><div class="post_cover"><a href="/posts/23f4c55d/" title="Hugo博客添加live2d看板娘"><img class="post-bg" src="https://static.zahui.fan/public/skeleton1.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hugo博客添加live2d看板娘"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/23f4c55d/" title="Hugo博客添加live2d看板娘">Hugo博客添加live2d看板娘</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-06-30T05:12:32.000Z" title="发表于 2021-06-30 13:12:32">2021-06-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%B7%A5%E5%85%B7/">工具</a></span></div><div class="content"> 看板娘就是网页上面漂浮的小人，可以随着鼠标的移动而做出反应，在 hexo 上面是有现成的 npm module，在 hugo 上面只能自己引入 js 啦。  我用的是 hugo v0.84.1-4BD65E22+extended， LoveIt 版本是 0.2.10 方法 1: 使用 html 模板，引入 js 文件编辑 themes/LoveIt/layouts/partials/footer.html ， 在 &#123;&#123;- end -&#125;&#125; 的上一行添加 1234567891011121314151617181920212223242526272829303132&lt;!-- Live2D，网页上的小人，可以修改live2d_config.js来修改模型，模型都在static/live2d_models里面 --&gt;&lt;!-- 你也可以把js文件下载下来，放到static/js/目录下，就不依赖别人的服务了 --&gt;&lt;script type=&quot;text/javascript&quot;...</div></div></div><div class="recent-post-item"><div class="post_cover"><a href="/posts/7635ef7e/" title="Shell脚本接受参数"><img class="post-bg" src="https://static.zahui.fan/public/bash.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Shell脚本接受参数"></a></div><div class="recent-post-info"><a class="article-title" href="/posts/7635ef7e/" title="Shell脚本接受参数">Shell脚本接受参数</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2021-06-29T06:04:03.000Z" title="发表于 2021-06-29 14:04:03">2021-06-29</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E5%9F%BA%E7%A1%80%E8%BF%90%E7%BB%B4/">基础运维</a></span></div><div class="content">直接传参一般情况下直接传参，比如 test.sh 12#!/bin/bashecho hello $1  .&#x2F;test.sh worldhello world 使用 getopts 解析参数这种方法可以忽略参数位置，使脚本更完善 test.sh 123456789101112131415161718while getopts &quot;a:b:c&quot; arg           #选项后面的冒号表示该选项需要参数do    case $arg in        a)            echo &quot;a $OPTARG&quot;    #参数存在$OPTARG中        ;;        b)            echo &quot;b $OPTARG&quot;        ;;        c)            echo &quot;c&quot;        ;;        ?)                     #当有不认识的选项的时候arg为?            echo &quot;unkonw...</div></div></div></div><nav id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/27/#content-inner"><i class="fas fa-chevron-left fa-fw"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/27/#content-inner">27</a><span class="page-number current">28</span><a class="page-number" href="/page/29/#content-inner">29</a><span class="space">&hellip;</span><a class="page-number" href="/page/34/#content-inner">34</a><a class="extend next" rel="next" href="/page/29/#content-inner"><i class="fas fa-chevron-right fa-fw"></i></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info text-center"><div class="avatar-img"><img src="https://static.zahui.fan/public/dog.svg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info-name">张理坤</div><div class="author-info-description">张理坤的博客</div><div class="site-data"><a href="/archives/"><div class="headline">文章</div><div class="length-num">334</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">212</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">8</div></a></div><a id="card-info-btn" target="_blank" rel="noopener external nofollow noreferrer" href="https://github.com/iuxt"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons"><a class="social-icon" href="https://github.com/iuxt" rel="external nofollow noreferrer" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:x@zahui.fan" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="https://space.bilibili.com/165330963" rel="external nofollow noreferrer" target="_blank" title="Bilibili"><i class="fa-brands fa-bilibili"></i></a><a class="social-icon" href="https://stackoverflow.com/users/15620461/" rel="external nofollow noreferrer" target="_blank" title="StackOverflow"><i class="fa-brands fa-stack-overflow"></i></a><a class="social-icon" href="/atom.xml" target="_blank" title="RSS"><i class="fa-solid fa-square-rss"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">此博客为我记录运维工作总结所用，供网友阅读参考，如有侵权，请通知我，我会核实后进行处理。</br>
<strong style="color: red;">欢迎加入技术交流群：</strong>
<div class="aside-qrcode" >
<img src="https://src.babudiu.com/card/wechat_ops_group.JPG" title="微信群" width="100%" height="auto">
</div>
</div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/posts/280100fb/" title="Linux平台文本编辑器vim"><img src="https://static.zahui.fan/public/vim.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Linux平台文本编辑器vim"/></a><div class="content"><a class="title" href="/posts/280100fb/" title="Linux平台文本编辑器vim">Linux平台文本编辑器vim</a><time datetime="2024-12-31T03:51:12.000Z" title="更新于 2024-12-31 11:51:12">2024-12-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/be10bdea/" title="Containerd的管理工具"><img src="https://static.zahui.fan/public/skeleton1.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Containerd的管理工具"/></a><div class="content"><a class="title" href="/posts/be10bdea/" title="Containerd的管理工具">Containerd的管理工具</a><time datetime="2024-12-30T09:06:02.000Z" title="更新于 2024-12-30 17:06:02">2024-12-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/6f952944/" title="Hyper-V 自定义内部网络网段和IP地址"><img src="https://static.zahui.fan/public/skeleton1.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="Hyper-V 自定义内部网络网段和IP地址"/></a><div class="content"><a class="title" href="/posts/6f952944/" title="Hyper-V 自定义内部网络网段和IP地址">Hyper-V 自定义内部网络网段和IP地址</a><time datetime="2024-12-27T10:21:20.000Z" title="更新于 2024-12-27 18:21:20">2024-12-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/sp3b30/" title="使用Python识别验证码，效果不错"><img src="https://static.zahui.fan/public/skeleton1.svg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用Python识别验证码，效果不错"/></a><div class="content"><a class="title" href="/posts/sp3b30/" title="使用Python识别验证码，效果不错">使用Python识别验证码，效果不错</a><time datetime="2024-12-27T04:32:53.000Z" title="更新于 2024-12-27 12:32:53">2024-12-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/posts/schwdt/" title="使用Docker部署一套用于学习的Elasticsearch集群"><img src="https://static.zahui.fan/images/202412031037042.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="使用Docker部署一套用于学习的Elasticsearch集群"/></a><div class="content"><a class="title" href="/posts/schwdt/" title="使用Docker部署一套用于学习的Elasticsearch集群">使用Docker部署一套用于学习的Elasticsearch集群</a><time datetime="2024-12-27T04:32:53.000Z" title="更新于 2024-12-27 12:32:53">2024-12-27</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
          </div>
          <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/Windows/"><span class="card-category-list-name">Windows</span><span class="card-category-list-count">51</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%9F%BA%E7%A1%80%E8%BF%90%E7%BB%B4/"><span class="card-category-list-name">基础运维</span><span class="card-category-list-count">119</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%AE%B9%E5%99%A8/"><span class="card-category-list-name">容器</span><span class="card-category-list-count">61</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%B7%A5%E5%85%B7/"><span class="card-category-list-name">工具</span><span class="card-category-list-count">39</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E5%BC%80%E5%8F%91/"><span class="card-category-list-name">开发</span><span class="card-category-list-count">21</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/"><span class="card-category-list-name">数据库</span><span class="card-category-list-count">15</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%97%A5%E5%BF%97/"><span class="card-category-list-name">日志</span><span class="card-category-list-count">10</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E7%9B%91%E6%8E%A7/"><span class="card-category-list-name">监控</span><span class="card-category-list-count">18</span></a></li>
          </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/Tools/" style="font-size: 1.1em; color: #999">Tools</a> <a href="/tags/Kernel/" style="font-size: 1.17em; color: #999ca0">Kernel</a> <a href="/tags/containerd/" style="font-size: 1.1em; color: #999">containerd</a> <a href="/tags/lvs/" style="font-size: 1.14em; color: #999a9c">lvs</a> <a href="/tags/%E9%85%8D%E7%BD%AE%E8%AE%B0%E5%BD%95/" style="font-size: 1.5em; color: #99a9bf">配置记录</a> <a href="/tags/node-exporter/" style="font-size: 1.14em; color: #999a9c">node_exporter</a> <a href="/tags/%E5%8F%8D%E5%90%91%E4%BB%A3%E7%90%86/" style="font-size: 1.21em; color: #999da3">反向代理</a> <a href="/tags/Command/" style="font-size: 1.39em; color: #99a5b5">Command</a> <a href="/tags/cli/" style="font-size: 1.35em; color: #99a3b1">cli</a> <a href="/tags/jenkins/" style="font-size: 1.17em; color: #999ca0">jenkins</a> <a href="/tags/%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C/" style="font-size: 1.32em; color: #99a2ae">常用操作</a> <a href="/tags/Automatic/" style="font-size: 1.21em; color: #999da3">Automatic</a> <a href="/tags/prometheus/" style="font-size: 1.43em; color: #99a6b8">prometheus</a> <a href="/tags/%E5%8A%A0%E5%AF%86/" style="font-size: 1.25em; color: #999fa7">加密</a> <a href="/tags/Script/" style="font-size: 1.39em; color: #99a5b5">Script</a> <a href="/tags/%E5%90%8C%E6%AD%A5/" style="font-size: 1.1em; color: #999">同步</a> <a href="/tags/Ubuntu/" style="font-size: 1.21em; color: #999da3">Ubuntu</a> <a href="/tags/kubeadm/" style="font-size: 1.32em; color: #99a2ae">kubeadm</a> <a href="/tags/xml/" style="font-size: 1.1em; color: #999">xml</a> <a href="/tags/cc%E6%94%BB%E5%87%BB/" style="font-size: 1.17em; color: #999ca0">cc攻击</a> <a href="/tags/%E4%BB%93%E5%BA%93/" style="font-size: 1.1em; color: #999">仓库</a> <a href="/tags/%E7%A3%81%E7%9B%98/" style="font-size: 1.1em; color: #999">磁盘</a> <a href="/tags/%E5%9F%9F%E5%90%8D/" style="font-size: 1.1em; color: #999">域名</a> <a href="/tags/linuxmint/" style="font-size: 1.1em; color: #999">linuxmint</a> <a href="/tags/Nginx/" style="font-size: 1.43em; color: #99a6b8">Nginx</a> <a href="/tags/Windows-Terminal/" style="font-size: 1.1em; color: #999">Windows Terminal</a> <a href="/tags/java/" style="font-size: 1.1em; color: #999">java</a> <a href="/tags/Kubernetes/" style="font-size: 1.46em; color: #99a8bc">Kubernetes</a> <a href="/tags/OpenSSH/" style="font-size: 1.17em; color: #999ca0">OpenSSH</a> <a href="/tags/cmd/" style="font-size: 1.25em; color: #999fa7">cmd</a> <a href="/tags/svg/" style="font-size: 1.1em; color: #999">svg</a> <a href="/tags/https/" style="font-size: 1.14em; color: #999a9c">https</a> <a href="/tags/Prometheus/" style="font-size: 1.28em; color: #99a0aa">Prometheus</a> <a href="/tags/NFS/" style="font-size: 1.14em; color: #999a9c">NFS</a> <a href="/tags/Flask/" style="font-size: 1.1em; color: #999">Flask</a> <a href="/tags/%E6%90%AD%E5%BB%BA/" style="font-size: 1.28em; color: #99a0aa">搭建</a> <a href="/tags/OCR/" style="font-size: 1.1em; color: #999">OCR</a> <a href="/tags/Service/" style="font-size: 1.14em; color: #999a9c">Service</a> <a href="/tags/rdp/" style="font-size: 1.1em; color: #999">rdp</a> <a href="/tags/proxy/" style="font-size: 1.1em; color: #999">proxy</a></div></div><div class="card-widget card-archives">
    <div class="item-headline">
      <i class="fas fa-archive"></i>
      <span>归档</span>
      <a class="card-more-btn" href="/archives/" title="查看更多"><i class="fas fa-angle-right"></i></a>
    </div>
    <ul class="card-archive-list">
  
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/12/">
          <span class="card-archive-list-date">十二月 2024</span>
          <span class="card-archive-list-count">6</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/11/">
          <span class="card-archive-list-date">十一月 2024</span>
          <span class="card-archive-list-count">7</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/10/">
          <span class="card-archive-list-date">十月 2024</span>
          <span class="card-archive-list-count">4</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/09/">
          <span class="card-archive-list-date">九月 2024</span>
          <span class="card-archive-list-count">8</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/08/">
          <span class="card-archive-list-date">八月 2024</span>
          <span class="card-archive-list-count">7</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/07/">
          <span class="card-archive-list-date">七月 2024</span>
          <span class="card-archive-list-count">5</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/06/">
          <span class="card-archive-list-date">六月 2024</span>
          <span class="card-archive-list-count">7</span>
        </a>
      </li>
    
      <li class="card-archive-list-item">
        <a class="card-archive-list-link" href="/archives/2024/05/">
          <span class="card-archive-list-date">五月 2024</span>
          <span class="card-archive-list-count">4</span>
        </a>
      </li>
    </ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站信息</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">334</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">本站总浏览量 :</div><div class="item-count" id="busuanzi_value_site_pv"><i class="fa-solid fa-spinner fa-spin"></i></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2024-12-31T03:52:40.657Z"><i class="fa-solid fa-spinner fa-spin"></i></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="footer_custom_text"><a target="_blank" rel="noopener external nofollow noreferrer" href='https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral'>
  本网站由<img src='https://static.zahui.fan/public/upyun.svg' alt='又拍云' width='70' height='28' style="vertical-align:bottom">
  提供CDN加速/云存储服务
</a>
</br>
<a href="https://beian.miit.gov.cn/" rel="external nofollow noreferrer" target="_blank">沪ICP备2021015230号-1</a>
</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="日间和夜间模式切换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/pluginsSrc/@fancyapps/ui/dist/fancybox/fancybox.umd.js"></script><script src="/pluginsSrc/vanilla-lazyload/dist/lazyload.iife.min.js"></script><div class="js-pjax"><script>window.typedJSFn = {
  init: str => {
    window.typed = new Typed('#subtitle', Object.assign({
      strings: str,
      startDelay: 300,
      typeSpeed: 150,
      loop: true,
      backSpeed: 50,
    }, null))
  },
  run: subtitleType => {
    if (true) {
      if (typeof Typed === 'function') {
        subtitleType()
      } else {
        btf.getScript('/pluginsSrc/typed.js/dist/typed.umd.js').then(subtitleType)
      }
    } else {
      subtitleType()
    }
  }
}
btf.addGlobalFn('pjaxSendOnce', () => { typed.destroy() }, 'typedDestroy')
</script><script>function subtitleType () {
  if (true) {
    typedJSFn.init(["♥ Do have faith in what you're doing.","欲穷千里目，更上一层楼。","学而不思则罔，思而不学则殆。"])
  } else {
    document.getElementById("subtitle").textContent = "♥ Do have faith in what you're doing."
  }
}
typedJSFn.run(subtitleType)</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="text-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜搜搜" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js"></script></div></div></body></html>